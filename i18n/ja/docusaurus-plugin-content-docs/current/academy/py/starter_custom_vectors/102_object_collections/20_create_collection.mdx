---
title: コレクションの作成
description: カスタム ベクトルでのオブジェクト コレクションの作成
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!../_snippets/102_collection.py';

 Weaviate はデータを「コレクション」に保存します。コレクションとは、同じデータ構造を共有するオブジェクトの集合です。映画データベースでは、映画のコレクション、俳優のコレクション、レビューのコレクションを持つことができます。

ここでは映画のコレクションを作成します。

## <i class="fa-solid fa-code"></i> コード

この例では、映画データ用のコレクションを作成します。

<FilteredTextBlock
  text={PyCode}
  startMarker="# CreateMovieCollection"
  endMarker="# END CreateMovieCollection"
  language="py"
/>

各コレクション定義には名前が必要です。そのうえで、この例のように追加パラメーターを定義できます。

## <i class="fa-solid fa-chalkboard"></i> コードの説明

### <i class="fa-solid fa-chalkboard"></i> プロパティ

プロパティは、コレクションに保存したいオブジェクト属性です。各プロパティには名前とデータ型があります。

映画データベースでは、`title`、`release_date`、`genre_ids` などのプロパティがあり、データ型として `TEXT` (文字列)、`DATE` (日付)、`INT` (整数) などを使用します。`genre_ids` のように整数の配列を持つことも可能です。

#### 自動スキーマ

 Weaviate はデータから自動的に[スキーマを推論する](/weaviate/config-refs/collections.mdx#auto-schema)ことができます。ただし、より細かく制御し予期しない動作を防ぐために、プロパティを明示的に定義することを推奨します。

### <i class="fa-solid fa-chalkboard"></i> ベクトライザー設定

このコード例では、独自のベクトルを指定するため、ベクトライザーを `none` としています。

<FilteredTextBlock
  text={PyCode}
  startMarker="# Define the vectorizer module"
  endMarker="# Define the generative module"
  language="py"
/>

### <i class="fa-solid fa-chalkboard"></i> 生成設定

コレクションを生成モデル (たとえば大規模言語モデル) と一緒に使用する場合は、生成モジュールを指定する必要があります。

このコード例では、デフォルトオプションで `cohere` モジュール (正式名称は `generative-cohere`) を指定しています。

<FilteredTextBlock
  text={PyCode}
  startMarker="# Define the generative module"
  endMarker="# END generativeDefinition"
  language="py"
/>

import MutableGenerativeConfig from '/_includes/mutable-generative-config.md';

<MutableGenerativeConfig />

### <i class="fa-solid fa-code"></i> Python クラス

コード例では `Property`、`DataType`、`Configure` などのクラスを使用しています。これらは `weaviate.classes.config` サブモジュールで定義されており、コレクションを定義するために利用されます。

利便性のため、サブモジュールを `wc` としてインポートし、そのクラスを使用しています。

<FilteredTextBlock
  text={PyCode}
  startMarker="# SubmoduleImport"
  endMarker="# END SubmoduleImport"
  language="py"
/>

## 質問とフィードバック

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>