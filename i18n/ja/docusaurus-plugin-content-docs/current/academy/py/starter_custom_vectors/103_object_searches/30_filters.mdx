---
title: フィルター
description: オブジェクト検索用フィルター
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import PyCode from '!!raw-loader!../_snippets/103_20_searches.py';

フィルターを使用すると、検索結果をより正確に絞り込むことができます。プロパティだけでなくメタデータによるフィルタリングも可能で、`and` や `or` 条件を組み合わせてさらに結果を絞り込めます。

### <i class="fa-solid fa-code"></i> Code

この例では、クエリ ベクトル との類似度に基づいて「Movie」を検索し、 2010 年以降に公開されたもののみを対象とします。上位 5 件のタイトルと公開年を出力します。

<FilteredTextBlock
  text={PyCode}
  startMarker="# FilteredSemanticSearch"
  endMarker="# END FilteredSemanticSearch"
  language="py"
/>

## <i class="fa-solid fa-chalkboard"></i> コードの説明

このクエリは、ベクトル検索用に以前示した [サンプル](./10_vector.mdx) と同じですが、フィルターが追加されています。ここでの `filters` パラメーターには、`Filter` クラスのインスタンスを渡してフィルター条件を指定します。今回のクエリでは、公開年が 2010 年より後のものだけに結果を制限しています。

<details>
  <summary>結果例</summary>

```text
Oppenheimer 2023
Distance to query: 0.754

Everything Everywhere All at Once 2022
Distance to query: 0.778

Meg 2: The Trench 2023
Distance to query: 0.779

Eternals 2021
Distance to query: 0.787

John Wick: Chapter 4 2023
Distance to query: 0.790
```

</details>


## ご質問・フィードバック

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>