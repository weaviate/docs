---
title: フィルター
description: "Weaviate のテキスト検索にフィルターを適用して、クエリ結果を絞り込みます。"
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import TSCode from '!!raw-loader!../_snippets/103_searches.ts';

フィルターを使用すると、検索結果を正確に絞り込むことができます。プロパティだけでなくメタデータでもフィルターでき、`and` または `or` 条件を組み合わせることでさらに結果を絞り込めます。

### <i class="fa-solid fa-code"></i> コード

この例では、クエリ "dystopian future" と類似した "Movie" クラスのエントリーのうち、2020 年以降に公開されたものだけを検索します。上位 5 件のタイトルと公開年を表示します。

<FilteredTextBlock
  text={TSCode}
  startMarker="// FilteredSemanticSearch"
  endMarker="// END FilteredSemanticSearch"
  language="ts"
/>

## <i class="fa-solid fa-chalkboard"></i> コードの説明

このクエリは [前述](./10_semantic.mdx) のセマンティック検索と同じですが、フィルターが追加されています。`filters` パラメーターでは `filter` ネームスペースを利用して条件を指定しています。現在のクエリは、公開年が 2010 年より後のものだけに結果をフィルターしています。

<details>
  <summary>例: 取得結果</summary>

```text
Dune 2021
Distance to query: 0.199

Tenet 2020
Distance to query: 0.200

Mission: Impossible - Dead Reckoning Part One 2023
Distance to query: 0.207

Onward 2020
Distance to query: 0.214

Jurassic World Dominion 2022
Distance to query: 0.216
```

</details>


## 質問とフィードバック

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>