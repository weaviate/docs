---
title: コレクションの作成
description: "構造化されたテキストデータを保存・管理するために  Weaviate  でテキストコレクションを作成します。"
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';
import TSCode from '!!raw-loader!../_snippets/102_collection.ts';

 Weaviate  はデータを「コレクション」に保存します。コレクションとは、同じデータ構造を共有するオブジェクトの集合です。映画データベースでは、映画のコレクション、俳優のコレクション、レビューのコレクションなどを持つことができます。

ここでは映画のコレクションを作成します。

## <i class="fa-solid fa-code"></i> コード

この例では、映画データ用のコレクションを作成しています。

<FilteredTextBlock
  text={TSCode}
  startMarker="// CreateMovieCollection"
  endMarker="// END CreateMovieCollection"
  language="ts"
/>

各コレクション定義には名前が必須です。その後、この例のように追加のパラメーターを定義できます。

## <i class="fa-solid fa-chalkboard"></i> コードの解説

### <i class="fa-solid fa-chalkboard"></i> プロパティ

プロパティとは、コレクションに保存したいオブジェクトの属性です。各プロパティには名前とデータ型があります。

映画データベースでは、`title`、`release_date`、`genre_ids` などのプロパティがあり、データ型として `TEXT`（文字列）、`DATE`（日付）、`INT`（整数）などを使用します。また、`genre_ids` のように整数の配列を持つこともできます。

#### 自動スキーマ

 Weaviate  は [スキーマを自動推論](/weaviate/config-refs/collections.mdx#auto-schema) できます。ただし、より良い制御と予期しない動作を避けるために、プロパティを明示的に定義することを推奨します。

### <i class="fa-solid fa-chalkboard"></i> ベクトライザーの設定

ベクトルを自分で指定しない場合、  Weaviate  は指定された ベクトライザー を使用してデータからベクトル埋め込みを生成します。

このコード例では、`text2vec-openai` モジュールをデフォルト設定で指定しています。

<FilteredTextBlock
  text={TSCode}
  startMarker="// Define the vectorizer module"
  endMarker="// Define the generative module"
  language="ts"
/>

### <i class="fa-solid fa-chalkboard"></i> 生成設定

コレクションを生成モデル（例: 大規模言語モデル）で利用したい場合は、生成モジュールを指定する必要があります。

このコード例では、`openai` モジュール（正式名称は `generative-openai`）をデフォルト設定で指定しています。

<FilteredTextBlock
  text={TSCode}
  startMarker="// Define the generative module"
  endMarker="// END generativeDefinition"
  language="ts"
/>

import MutableGenerativeConfig from '/_includes/mutable-generative-config.md';

<MutableGenerativeConfig />

### <i class="fa-solid fa-code"></i> TypeScript の名前付きインポート

このコード例では、`vectorizer` や `configure` などの名前付きインポートを使用しています。これらは `weaviate` モジュールで定義されており、コレクション定義時に利用されます。

<FilteredTextBlock
  text={TSCode}
  startMarker="// SubmoduleImport"
  endMarker="// END SubmoduleImport"
  language="ts"
/>

## 質問とフィードバック

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>