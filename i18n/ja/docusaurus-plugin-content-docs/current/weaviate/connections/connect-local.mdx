---
title: ローカル インスタンス
sidebar_position: 20
image: og/docs/connect.jpg
# tags: ['getting started', 'connect']
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FilteredTextBlock from '@site/src/components/Documentation/FilteredTextBlock';

import WCSWithoutAuthentication from '/_includes/code/wcs.without.authentication.mdx';
import WCSAuthenticationApiKey from '/_includes/code/wcs.authentication.api.key.mdx';
import WCDAuthAndInferenceKeys from '/_includes/code/wcs.authentication.api.key.with.inference.key.mdx';

import PyCodeV3 from '!!raw-loader!/_includes/code/connections/connect-python-v3.py';
import PyCodeV4 from '!!raw-loader!/_includes/code/connections/connect-python-v4.py';
import TsCodeV3 from '!!raw-loader!/_includes/code/connections/connect-ts-v3.ts';
import TsCodeV2 from '!!raw-loader!/_includes/code/connections/connect-ts-v2.ts';
import JavaCode from '!!raw-loader!/_includes/code/connections/connect.java';
import ShellCode from '!!raw-loader!/_includes/code/connections/connect.sh';
import GoCode from '!!raw-loader!/_includes/code/connections/connect.go';

ローカルにホストした Weaviate インスタンスへ接続するには、次の手順に従います。

## ローカル接続 URL

Docker インスタンスのデフォルト URL は `http://localhost:8080` です。gRPC ポート `50051` も `localhost` でリッスンしています。

インスタンスを Kubernetes 上で実行している場合は、Helm チャートの `values.yaml` ファイルにある `host` と `port` の値を確認してください。

## 認証なしでの接続

認証を有効にしていないローカル インスタンスへ接続するには、以下の例を参照してください。

<Tabs groupId="languages">
<TabItem value="py4" label="Python クライアント v4">
   <FilteredTextBlock
     text={PyCodeV4}
     startMarker="# START LocalNoAuth"
     endMarker="# END LocalNoAuth"
     language="py"
   />
</TabItem>
<TabItem value="py3" label="Python クライアント v3">
   <FilteredTextBlock
     text={PyCodeV3}
     startMarker="# START LocalNoAuth"
     endMarker="# END LocalNoAuth"
     language="pyv3"
   />
</TabItem>
<TabItem value="ts3" label="JS/TS クライアント v3">
   <FilteredTextBlock
     text={TsCodeV3}
     startMarker="// START LocalNoAuth"
     endMarker="// END LocalNoAuth"
     language="js"
   />
</TabItem>
<TabItem value="ts2" label="JS/TS クライアント v2">
   <FilteredTextBlock
     text={TsCodeV2}
     startMarker="// START LocalNoAuth"
     endMarker="// END LocalNoAuth"
     language="tsv2"
   />
</TabItem>
<TabItem value="go" label="Go">
   <FilteredTextBlock
     text={GoCode}
     startMarker="// START LocalNoAuth"
     endMarker="// END LocalNoAuth"
     language="js"
   />
</TabItem>
<TabItem value="java" label="Java">
   <FilteredTextBlock
     text={JavaCode}
     startMarker="// START LocalNoAuth"
     endMarker="// END LocalNoAuth"
     language="java"
   />
</TabItem>
<TabItem value="shell" label="cURL">
   <FilteredTextBlock
     text={ShellCode}
     startMarker="# START LocalNoAuth"
     endMarker="# END LocalNoAuth"
     language="shell"
   />
</TabItem>
</Tabs>

## URL またはポートを変更する

デフォルトの URL やポート番号を変更する場合は、以下の例を参照してください。

<Tabs groupId="languages">
<TabItem value="py4" label="Python クライアント v4">
   <FilteredTextBlock
     text={PyCodeV4}
     startMarker="# START CustomURL"
     endMarker="# END CustomURL"
     language="py"
   />
</TabItem>
<TabItem value="py3" label="Python クライアント v3">
   <FilteredTextBlock
     text={PyCodeV3}
     startMarker="# START CustomURL"
     endMarker="# END CustomURL"
     language="pyv3"
   />
</TabItem>
<TabItem value="ts3" label="JS/TS クライアント v3">
   <FilteredTextBlock
     text={TsCodeV3}
     startMarker="// START CustomURL"
     endMarker="// END CustomURL"
     language="js"
   />
</TabItem>
<TabItem value="ts2" label="JS/TS クライアント v2">
   <FilteredTextBlock
     text={TsCodeV2}
     startMarker="// START CustomURL"
     endMarker="// END CustomURL"
     language="tsv2"
   />
</TabItem>
<TabItem value="go" label="Go">
   <FilteredTextBlock
     text={GoCode}
     startMarker="// START CustomURL"
     endMarker="// END CustomURL"
     language="py"
   />
</TabItem>
<TabItem value="java" label="Java">
   <FilteredTextBlock
     text={JavaCode}
     startMarker="// START CustomURL"
     endMarker="// END CustomURL"
     language="java"
   />
</TabItem>
<TabItem value="shell" label="cURL">
   <FilteredTextBlock
     text={ShellCode}
     startMarker="# START CustomURL"
     endMarker="# END CustomURL"
     language="shell"
   />
</TabItem>
</Tabs>


## 認証の有効化

Weaviate の API キーで認証するには、次の例に従ってください。

<Tabs groupId="languages">
<TabItem value="py4" label="Python Client v4">
   <FilteredTextBlock
     text={PyCodeV4}
     startMarker="# START LocalAuth"
     endMarker="# END LocalAuth"
     language="py"
   />
</TabItem>
<TabItem value="py3" label="Python Client v3">
   <FilteredTextBlock
     text={PyCodeV3}
     startMarker="# START LocalAuth"
     endMarker="# END LocalAuth"
     language="pyv3"
   />
</TabItem>
<TabItem value="ts3" label="JS/TS Client v3">
   <FilteredTextBlock
     text={TsCodeV3}
     startMarker="// START LocalAuth"
     endMarker="// END LocalAuth"
     language="js"
   />
</TabItem>
<TabItem value="ts2" label="JS/TS Client v2">
   <FilteredTextBlock
     text={TsCodeV2}
     startMarker="// START LocalAuth"
     endMarker="// END LocalAuth"
     language="tsv2"
   />
</TabItem>
<TabItem value="go" label="Go">
   <FilteredTextBlock
     text={GoCode}
     startMarker="// START LocalAuth"
     endMarker="// END LocalAuth"
     language="py"
   />
</TabItem>
<TabItem value="java" label="Java">
   <FilteredTextBlock
     text={JavaCode}
     startMarker="// START LocalAuth"
     endMarker="// END LocalAuth"
     language="java"
   />
</TabItem>
<TabItem value="shell" label="cURL">
   <FilteredTextBlock
     text={ShellCode}
     startMarker="# START LocalAuth"
     endMarker="# END LocalAuth"
     language="shell"
   />
</TabItem>
</Tabs>

### OIDC 認証

import OIDCConnect from '/_includes/connect/oidc-connect-ref.mdx';

<OIDCConnect/>

その他のクライアント例については、[OIDC 認証](/weaviate/connections/connect-custom#oidc-authentication) を参照してください。

## サードパーティ API キー

外部 API を利用する統合では、API キーが必要になることがよくあります。サードパーティ API キーを追加するには、次の例に従ってください:

<Tabs groupId="languages">
<TabItem value="py4" label="Python Client v4">
   <FilteredTextBlock
     text={PyCodeV4}
     startMarker="# START LocalThirdPartyAPIKeys"
     endMarker="# END LocalThirdPartyAPIKeys"
     language="py"
   />
</TabItem>
<TabItem value="py3" label="Python Client v3">
   <FilteredTextBlock
     text={PyCodeV3}
     startMarker="# START LocalThirdPartyAPIKeys"
     endMarker="# END LocalThirdPartyAPIKeys"
     language="pyv3"
   />
</TabItem>
<TabItem value="ts3" label="JS/TS Client v3">
   <FilteredTextBlock
     text={TsCodeV3}
     startMarker="// START LocalThirdPartyAPIKeys"
     endMarker="// END LocalThirdPartyAPIKeys"
     language="js"
   />
</TabItem>
<TabItem value="ts2" label="JS/TS Client v2">
   <FilteredTextBlock
     text={TsCodeV2}
     startMarker="// START LocalThirdPartyAPIKeys"
     endMarker="// END LocalThirdPartyAPIKeys"
     language="tsv2"
   />
</TabItem>
<TabItem value="go" label="Go">
   <FilteredTextBlock
     text={GoCode}
     startMarker="// START LocalThirdPartyAPIKeys"
     endMarker="// END LocalThirdPartyAPIKeys"
     language="js"
   />
</TabItem>
<TabItem value="java" label="Java">
   <FilteredTextBlock
     text={JavaCode}
     startMarker="// START LocalThirdPartyAPIKeys"
     endMarker="// END LocalThirdPartyAPIKeys"
     language="java"
   />
</TabItem>
<TabItem value="shell" label="cURL">
   <FilteredTextBlock
     text={ShellCode}
     startMarker="# START LocalThirdPartyAPIKeys"
     endMarker="# END LocalThirdPartyAPIKeys"
     language="shell"
   />
</TabItem>
</Tabs>



## 環境変数

import EnvVarsHowto from '/_includes/environment-variables.mdx';

<EnvVarsHowto/>

## gRPC タイムアウト

import GRPCTimeoutIntro from '/_includes/connect/timeouts-intro.mdx';

<GRPCTimeoutIntro/>

import GRPCTimeouts from '/_includes/code/connections/timeouts-local.mdx';

<GRPCTimeouts/>

## 質問とフィードバック

import DocsFeedback from '/_includes/docs-feedback.mdx';

<DocsFeedback/>

